%--------------------------------------------------------------------------
%   初始化
%--------------------------------------------------------------------------
clear;clc;

%--------------------------------------------------------------------------
%   参数设置
%--------------------------------------------------------------------------
N = 64;                                                                     %阵元个数

%--------------------------------------------------------------------------
%   生成参数
%--------------------------------------------------------------------------
lambda = 1;                                                                 %波长
dd = lambda/2;                                                              %阵元间距d = lambda/2
d = 0:dd:(N-1)*dd;                                                          %构建阵列坐标
angle_axis = -90:0.01:90;

for theta_tgt = -45:1:45
    theta_jam = [10 15 20];
    w_output = word( N, theta_tgt, @taylorwin ,lambda, d, theta_jam,0);

    [~,~,L_dB] = L_norm_array_pattern(w_output,angle_axis);
    %--------------------------------------------------------------------------
    %   可视化
    %--------------------------------------------------------------------------
    figure(1)
     
    plot(angle_axis,L_dB,'LineWidth',1.5);grid on;hold on
    for idx = 1:length(theta_jam)
        plot([theta_jam(idx) theta_jam(idx)],[-200 0],'--','LineWidth',1.5)
    end
    axis([-90 90 -80 0]);hold off
    drawnow
end